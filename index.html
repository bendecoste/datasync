<!doctype html>
<html>
  <head>
    <title>Test App</title>
  </head>
  <body>
    <h1>Hello World</h1>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/datasync.js"></script>

    <script>
      window.onload = function () {
        new DataSync().connect(function (ds) {
          var btn = document.getElementById('enterBtn'); 
          var txt = document.getElementById('textBox');

          btn.onclick = function () {
            console.log('sending', txt.value);
            ds.room('mychat').add(txt.value);
          };

          ds.room('mychat').onadd(function(value) {
            console.log('received add message', value);
          });
        });
      };
    </script>

    <form>
      <input id="textBox" type="text"/>
      <button id="enterBtn" type="button">Enter</button>
    </form>
</html>
